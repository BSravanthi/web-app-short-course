 // global Object container
      var signinLink = document.getElementById('btn-signin');
      if (signinLink)
      {
      signinLink.onclick = function() { navigator.id.request(); };
      }
      var signoutLink = document.getElementById('btn-signout');
      if (signoutLink) {
      signoutLink.onclick = function() { navigator.id.logout(); };
      }
      navigator.id.watch({
      {% if session.name %}
      loggedInUser: '{{ session.name }}',
      {% else %}
      loggedInUser: null,
      {% endif %}
      onlogin: function(assertion) {
      $.ajax({
      type: 'POST',
      url: '/auth/login', // This is a URL on your website.
      data: {assertion: assertion},
      success: function(role, status, xhr) { 
      if (role == 'ok')
      {
      window.location.href = '/admin';
      }
      else
      {
      $('.error').append("Unauthorized Email!");
      }                    
      },
      error: function(xhr, status, err) {
      navigator.id.logout();
      alert("Login failure: " + err);
      }
      });
      },
      onlogout: function() {
      $.ajax({
      type: 'POST',
      url: '/auth/logout', // This is a URL on your website.
      success: function(res, status, xhr) { window.location.href = '/';  },
      error: function(xhr, status, err) { alert("Logout failure: " + err); }
      });
      }
      });
      
      {% if session.name %}
      var number  = '{{ session.id }}';
      var role_name = '{{ session.role }}';
      {% else %}
      var number = 0
      var role_name = "";
      {% endif %}
  
